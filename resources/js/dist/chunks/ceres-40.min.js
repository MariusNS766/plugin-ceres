(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{344:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-max",class:{"p-0":e.$ceres.isShopBuilder}},[r("div",{staticClass:"position-relative"},[r("div",{staticClass:"d-flex flex-grow-1 position-relative my-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchString,expression:"searchString"}],ref:"searchInput",staticClass:"search-input flex-grow-1 px-3 py-2",attrs:{type:"search",autofocus:e.isShopBuilder},domProps:{value:e.searchString},on:{input:[function(t){t.target.composing||(e.searchString=t.target.value)},function(t){return e.onValueChanged(t.target.value)}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()},focus:function(t){e.isSearchFocused=!0},blur:function(t){return e.onBlurSearchField(t)}}}),e._v(" "),e._t("search-button",[r("button",{staticClass:"search-submit px-3",attrs:{type:"submit"},on:{click:function(t){return e.search()}}},[r("i",{staticClass:"fa fa-search"})])])],2),e._v(" "),e.isSearchFocused?[r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasAutocompleteResults,expression:"hasAutocompleteResults"}]},[e._t("autocomplete-suggestions",[r("div",{staticClass:"autocomplete-suggestions shadow bg-white w-100 "},[r("search-suggestion-item",{attrs:{"show-images":e.showItemImages,"suggestion-type":"item"}})],1)])],2)]:e._e()],2)])};s._withStripped=!0;r(6),r(46),r(3),r(23),r(41),r(49),r(50),r(31),r(21),r(129),r(24);var o=r(29),n=r(1),i=r(64),a=(r(8),r(10)),c=r(88);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={name:"item-search",props:{showItemImages:{type:Boolean},forwardToSingleItem:{type:Boolean,default:App.config.search.forwardToSingleItem},timeout:{type:Number,default:200}},data:function(){return{isSearchFocused:App.isShopBuilder,onValueChanged:null,searchString:""}},created:function(){var e=this;this.onValueChanged=Object(c.a)((function(t){e.autocomplete(t)}),Object(n.a)(this.timeout,200))},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({hasAutocompleteResults:function(){var e=this.autocompleteResult.item,t=this.autocompleteResult.category,r=this.autocompleteResult.suggestion;return App.isShopBuilder||e&&e.length||t&&t.length||r&&r.length},isShopBuilder:function(){return App.isShopBuilder}},Object(a.e)({autocompleteResult:function(e){return e.itemSearch.autocompleteResult},moduleSearchString:function(e){return e.itemList.searchString}})),mounted:function(){var e=this;this.$nextTick((function(){var t=o.a.getUrlParams(document.location.search);e.$store.commit("setItemListSearchString",t.query),e.$refs.searchInput.value=Object(n.d)(t.query)?"":t.query}))},methods:{search:function(){this.$refs.searchInput.value.length&&(Object(i.b)(App.urls.search)?this.$store.dispatch("searchItems",this.$refs.searchInput.value):window.open("".concat(App.urls.search,"?query=").concat(this.searchString),"_self",!1))},autocomplete:function(e){e.length>=2?this.$store.dispatch("loadItemSearchAutocomplete",e):this.$store.commit("setAutocompleteResult",{item:[],category:[],suggestion:[]})},onBlurSearchField:function(e){var t=e.relatedTarget;(Object(n.d)(t)||!Object(n.d)(t)&&!this.$el.contains(t))&&(this.isSearchFocused=!1)}},watch:{moduleSearchString:function(e){e&&e.length&&(this.searchString=e)}}},p=r(7),m=Object(p.a)(h,s,[],!1,null,null,null);m.options.__file="resources/js/src/app/components/itemList/ItemSearch.vue";t.default=m.exports}}]);
//# sourceMappingURL=ceres-40.min.js.map